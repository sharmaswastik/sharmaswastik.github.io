<!DOCTYPE html>
<html lang="en" data-theme="light"> <!-- Default to light mode -->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swastik Sharma - Portfolio</title>
    <link rel="icon" href="V1.0/images/Logo.png" type="image/x-icon">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">

    <style>
        :root {
            /* Base Variables (Default to Obsidian if no scheme set) */
            --bg-body: #18181B;
            --primary: #FBBF24;
            --text-main: #ffffff;
            --text-muted: #A1A1AA;
            --glass-bg: rgba(24, 24, 27, 0.65);
            --glass-border: rgba(255, 255, 255, 0.08);
            --particle-color: #FBBF24;
            --card-hover: rgba(251, 191, 36, 0.05);
        }

        /* =========================================
           COLOR SCHEMES
           ========================================= */

        /* 1. Obsidian & Gold (Default) */
        [data-scheme="obsidian"] {
            --bg-body: #18181B;
            --primary: #FBBF24;
            --text-main: #ffffff;
            --text-muted: #A1A1AA;
            --glass-bg: rgba(24, 24, 27, 0.65);
            --glass-border: rgba(255, 255, 255, 0.08);
            --particle-color: #FBBF24;
            --card-hover: rgba(251, 191, 36, 0.05);
        }

        [data-scheme="obsidian"][data-theme="light"] {
            --bg-body: #FFFBEB;
            /* Amber 50 */
            --primary: #D97706;
            /* Amber 600 */
            --text-main: #27272A;
            --text-muted: #52525B;
            --glass-bg: rgba(255, 255, 255, 0.6);
            --glass-border: rgba(217, 119, 6, 0.15);
            --particle-color: #D97706;
            --card-hover: rgba(217, 119, 6, 0.05);
        }

        /* 2. Crimson & Slate (Ivy League) */
        [data-scheme="crimson"] {
            --bg-body: #020617;
            /* Slate 950 */
            --primary: #FB7185;
            /* Rose 400 */
            --text-main: #ffffff;
            --text-muted: #94a3b8;
            --glass-bg: rgba(2, 6, 23, 0.65);
            --glass-border: rgba(255, 255, 255, 0.08);
            --particle-color: #FB7185;
            --card-hover: rgba(251, 113, 133, 0.05);
        }

        [data-scheme="crimson"][data-theme="light"] {
            --bg-body: #FFF1F2;
            /* Rose 50 */
            --primary: #BE123C;
            /* Rose 700 */
            --text-main: #0F172A;
            /* Slate 900 */
            --text-muted: #475569;
            --glass-bg: rgba(255, 255, 255, 0.6);
            --glass-border: rgba(190, 18, 60, 0.15);
            --particle-color: #BE123C;
            --card-hover: rgba(190, 18, 60, 0.05);
        }

        /* 3. Oxford Blue (Navy & Blue) */
        [data-scheme="oxford"] {
            --bg-body: #0B1120;
            /* Deep Navy */
            --primary: #60A5FA;
            /* Blue 400 */
            --text-main: #ffffff;
            --text-muted: #94a3b8;
            --glass-bg: rgba(11, 17, 32, 0.65);
            --glass-border: rgba(255, 255, 255, 0.08);
            --particle-color: #60A5FA;
            --card-hover: rgba(96, 165, 250, 0.05);
        }

        [data-scheme="oxford"][data-theme="light"] {
            --bg-body: #F0F9FF;
            /* Sky 50 */
            --primary: #0369A1;
            /* Sky 700 */
            --text-main: #0F172A;
            --text-muted: #475569;
            --glass-bg: rgba(255, 255, 255, 0.6);
            --glass-border: rgba(3, 105, 161, 0.15);
            --particle-color: #0369A1;
            --card-hover: rgba(3, 105, 161, 0.05);
        }

        /* 4. Sage & Stone (Scientific/Natural) */
        [data-scheme="sage"] {
            --bg-body: #0C0A09;
            /* Stone 950 */
            --primary: #86EFAC;
            /* Green 300 */
            --text-main: #ffffff;
            --text-muted: #A8A29E;
            --glass-bg: rgba(12, 10, 9, 0.65);
            --glass-border: rgba(255, 255, 255, 0.08);
            --particle-color: #86EFAC;
            --card-hover: rgba(134, 239, 172, 0.05);
        }

        [data-scheme="sage"][data-theme="light"] {
            --bg-body: #FAFAF9;
            /* Stone 50 */
            --primary: #15803D;
            /* Green 700 */
            --text-main: #1C1917;
            --text-muted: #57534E;
            --glass-bg: rgba(255, 255, 255, 0.6);
            --glass-border: rgba(21, 128, 61, 0.15);
            --particle-color: #15803D;
            --card-hover: rgba(21, 128, 61, 0.05);
        }

        /* 5. Royal & Silver (Humanities) */
        [data-scheme="royal"] {
            --bg-body: #0A0A0A;
            /* Neutral 950 */
            --primary: #C084FC;
            /* Purple 400 */
            --text-main: #ffffff;
            --text-muted: #A3A3A3;
            --glass-bg: rgba(10, 10, 10, 0.65);
            --glass-border: rgba(255, 255, 255, 0.08);
            --particle-color: #C084FC;
            --card-hover: rgba(192, 132, 252, 0.05);
        }

        [data-scheme="royal"][data-theme="light"] {
            --bg-body: #FAF5FF;
            /* Purple 50 */
            --primary: #7E22CE;
            /* Purple 700 */
            --text-main: #171717;
            --text-muted: #525252;
            --glass-bg: rgba(255, 255, 255, 0.6);
            --glass-border: rgba(126, 34, 206, 0.15);
            --particle-color: #7E22CE;
            --card-hover: rgba(126, 34, 206, 0.05);
        }

        /* Theme Selector Styles */
        .theme-selector-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            z-index: 50;
            /* Removed absolute positioning to fit in flow */
        }

        @media (min-width: 768px) {
            .theme-selector-container {
                left: 1.5rem;
                right: auto;
            }
        }

        .scheme-btn {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid var(--glass-border);
            cursor: pointer;
            transition: transform 0.2s, border-color 0.2s;
            position: relative;
        }

        .scheme-btn:hover {
            transform: scale(1.1);
        }

        .scheme-btn.active {
            border-color: var(--primary);
            transform: scale(1.1);
            box-shadow: 0 0 10px var(--primary);
        }

        .scheme-dropdown {
            position: relative;
            display: inline-block;
            padding-bottom: 10px;
            /* Invisible bridge for hover */
            margin-bottom: -10px;
        }

        .scheme-dropdown-content {
            display: none;
            position: absolute;
            bottom: 100%;
            /* Open upwards */
            left: 50%;
            transform: translateX(-50%);
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            padding: 0.5rem;
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            /* Space from button */
            flex-direction: column;
            gap: 0.5rem;
            min-width: 40px;
            align-items: center;

            /* Animation */
            opacity: 0;
            transition: opacity 0.2s ease-in-out;
        }

        .scheme-dropdown:hover .scheme-dropdown-content {
            display: flex;
            opacity: 1;
        }

        /* Add a pseudo-element to bridge the gap */
        .scheme-dropdown-content::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            height: 20px;
            /* Bridge gap */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            overflow-x: hidden;
            margin: 0;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--text-muted);
            opacity: 0.2;
            border-radius: 4px;
        }

        /* Glassmorphism Card Effect */
        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s, border-color 0.3s;
        }

        .glass-panel:hover {
            background-color: var(--card-hover);
            /* Subtle highlight on hover */
        }

        /* Typography */
        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }

        /* Animations */
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
            opacity: 0;
            transform: translateY(10px);
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-in-right {
            animation: slideInRight 0.4s ease-out forwards;
        }

        .slide-in-left {
            animation: slideInLeft 0.4s ease-out forwards;
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Interactive Elements */
        .nav-item {
            transition: all 0.3s ease;
            position: relative;
            color: var(--text-muted);
        }

        .nav-item:hover {
            color: var(--text-main);
        }

        .nav-item::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -2px;
            width: 0;
            height: 2px;
            background-color: var(--primary);
            transition: width 0.3s ease;
        }

        .nav-item:hover::after,
        .nav-item.active::after {
            width: 100%;
        }

        .nav-item.active {
            color: var(--primary);
            font-weight: 600;
        }

        /* Canvas Background */
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        /* Toast Notification */
        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: var(--bg-body);
            color: var(--text-main);
            text-align: center;
            border-radius: 8px;
            padding: 16px;
            position: fixed;
            z-index: 50;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s, bottom 0.3s;
            border: 1px solid var(--primary);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        #toast.show {
            visibility: visible;
            opacity: 1;
            bottom: 50px;
        }

        /* Gallery Grid */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
        }

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 0.5rem;
            aspect-ratio: 1;
            cursor: pointer;
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .gallery-item:hover .gallery-overlay {
            opacity: 1;
        }

        /* AI Loading State */
        .animate-pulse-fast {
            animation: pulse 1s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        /* Lightbox */
        #lightbox {
            position: fixed;
            z-index: 100;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        #lightbox.active {
            opacity: 1;
            pointer-events: auto;
        }

        #lightbox img {
            max-width: 90%;
            max-height: 90%;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        #lightbox.active img {
            transform: scale(1);
        }

        /* Accessibility & Focus */
        button:focus-visible,
        a:focus-visible,
        input:focus-visible,
        textarea:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        /* Mobile Touch Targets */
        @media (max-width: 768px) {
            .nav-item {
                padding: 12px 16px;
                /* Larger touch target */
            }
        }

        /* Theme Toggle Switch - Day/Night Effect */
        .theme-switch {
            position: relative;
            display: inline-block;
            width: 70px;
            height: 34px;
        }

        .theme-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #1e293b;
            /* Dark Night Sky */
            transition: .4s;
            border-radius: 34px;
            overflow: hidden;
            border: 2px solid var(--glass-border);
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
        }

        /* The Knob (Moon/Sun) */
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 2px;
            bottom: 2px;
            background-color: #fbbf24;
            /* Moon Color */
            transition: .4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            /* Bouncy effect */
            border-radius: 50%;
            z-index: 10;
            box-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
        }

        /* Light Mode (Checked) State */
        input:checked+.slider {
            background-color: #60a5fa;
            /* Day Sky Blue */
        }

        input:checked+.slider:before {
            transform: translateX(36px);
            background-color: #fcd34d;
            /* Sun Color */
            box-shadow: 0 0 15px rgba(252, 211, 77, 0.8);
        }

        /* Stars (Visible in Dark Mode) */
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            transition: all 0.4s ease;
            opacity: 1;
            z-index: 1;
        }

        .star-1 {
            top: 7px;
            left: 42px;
            width: 2px;
            height: 2px;
        }

        .star-2 {
            top: 16px;
            left: 52px;
            width: 1px;
            height: 1px;
        }

        .star-3 {
            top: 8px;
            left: 58px;
            width: 2px;
            height: 2px;
        }

        .star-4 {
            top: 22px;
            left: 38px;
            width: 1px;
            height: 1px;
        }

        .star-5 {
            top: 15px;
            left: 32px;
            width: 2px;
            height: 2px;
            opacity: 0.7;
        }

        input:checked+.slider .star {
            transform: translateY(20px);
            opacity: 0;
        }

        /* Clouds (Visible in Light Mode) */
        .cloud {
            position: absolute;
            background-color: #ffffff;
            border-radius: 10px;
            transition: all 0.4s ease;
            opacity: 0;
            z-index: 1;
        }

        .cloud-1 {
            top: 10px;
            left: 12px;
            width: 18px;
            height: 8px;
        }

        .cloud-2 {
            top: 20px;
            left: 22px;
            width: 12px;
            height: 6px;
        }

        /* Cloud Shapes */
        .cloud:before,
        .cloud:after {
            content: '';
            position: absolute;
            background: #ffffff;
            border-radius: 50%;
        }

        .cloud-1:before {
            width: 10px;
            height: 10px;
            top: -5px;
            left: 2px;
        }

        .cloud-1:after {
            width: 8px;
            height: 8px;
            top: -3px;
            left: 8px;
        }

        .cloud-2:before {
            width: 6px;
            height: 6px;
            top: -3px;
            left: 2px;
        }

        .cloud-2:after {
            width: 5px;
            height: 5px;
            top: -2px;
            left: 6px;
        }

        input:checked+.slider .cloud {
            opacity: 0.9;
        }

        input:checked+.slider .cloud-1 {
            transform: translateX(0);
            transition-delay: 0.1s;
        }

        input:checked+.slider .cloud-2 {
            transform: translateX(0);
            transition-delay: 0.2s;
        }
    </style>
</head>

<body class="min-h-screen md:h-screen flex flex-col md:flex-row overflow-x-hidden transition-colors duration-500">

    <!-- Background Animation Layer -->
    <canvas id="bg-canvas"></canvas>

    <!-- LEFT PANEL: Profile & Static Info -->
    <aside
        class="w-full md:w-1/3 lg:w-1/4 h-auto md:h-full p-6 md:p-8 flex flex-col md:justify-between gap-6 relative z-10 border-r border-gray-500/10 bg-[var(--bg-body)]/80 md:bg-transparent backdrop-blur-sm md:backdrop-blur-none transition-colors duration-500">
        <div>
            <!-- Theme Toggle -->


            <div class="mt-12 mb-6 relative group">
                <!-- EDIT: Profile Image Placeholder -->
                <div
                    class="w-24 h-24 md:w-48 md:h-48 rounded-full bg-slate-700 overflow-hidden border-2 border-[var(--primary)] shadow-[0_0_15px_rgba(56,189,248,0.3)]">
                    <!-- Use a real image URL below, e.g., src="photo.jpg" -->
                    <img src="V1.0/images/pic15.png" alt="Profile"
                        class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity duration-500">
                </div>
            </div>

            <!-- EDIT: Name and Title -->
            <h1 class="text-4xl font-bold text-[var(--text-main)] mb-2 tracking-tight">Swastik Sharma</h1>
            <h2 class="text-[var(--primary)] font-mono text-sm mb-6">Ph.D. Candidate at IIT Kanpur</h2>

            <p class="text-[var(--text-muted)] text-sm leading-relaxed mb-8 max-w-xs">
                Exploring the intersection of transmission and distribution system operations, paving a way for
                improving flexibility.
            </p>
            <p class="text-[var(--text-muted)] text-sm leading-relaxed max-w-xs">Advisor: <a href="https://iitk.ac.in/swathi-battula" target="_blank" rel="noopener noreferrer"><u>Prof. Swathi Battula</u></a></p>
            <p class="text-[var(--text-muted)] text-sm leading-relaxed mb-6 max-w-xs">Co-Advisor: <a href="https://iitk.ac.in/sri-niwas-singh" target="_blank" rel="noopener noreferrer"><u>Prof. Sri Niwas Singh</u></a></p>

            <!-- Social Links -->
            <div class="flex space-x-4">
                <a href="https://github.com/sharmaswastik"
                    class="text-[var(--text-muted)] hover:text-[var(--text-main)] transition-colors"><i
                        data-lucide="github"></i></a>
                <a href="https://www.linkedin.com/in/sharmaswastik/"
                    class="text-[var(--text-muted)] hover:text-[var(--text-main)] transition-colors"><i
                        data-lucide="linkedin"></i></a>
                <a href="mailto:swastiksharma@ieee.org"
                    class="text-[var(--text-muted)] hover:text-[var(--text-main)] transition-colors"><i
                        data-lucide="mail"></i></a>
                <a href="https://scholar.google.com/citations?user=2Ofr4VEAAAAJ&hl=en"
                    class="text-[var(--text-muted)] hover:text-[var(--text-main)] transition-colors"><i
                        data-lucide="graduation-cap"></i></a>
            </div>
        </div>

        <!-- Mobile Menu Trigger (Only visible on small screens) -->
        <div class="md:hidden mt-6 pt-4 border-t border-gray-500/10">
            <button id="mobile-menu-btn"
                class="w-full glass-panel py-3 px-4 rounded-lg flex items-center justify-center gap-3 text-[var(--text-main)] hover:bg-[var(--card-hover)] transition-all group">
                <span
                    class="text-sm font-bold uppercase tracking-widest group-hover:tracking-[0.2em] transition-all">Menu</span>
                <i data-lucide="menu" class="w-5 h-5"></i>
            </button>
        </div>

        <!-- Theme & Scheme Controls -->
        <div class="theme-selector-container mb-4">
            <!-- Scheme Dropdown -->
            <div class="scheme-dropdown">
                <button class="scheme-btn" id="current-scheme-btn" style="background: var(--primary);"
                    title="Select Color Scheme"></button>
                <div class="scheme-dropdown-content">
                    <div class="scheme-btn" style="background: #FBBF24;" onclick="setScheme('obsidian')"
                        title="Obsidian & Gold"></div>
                    <div class="scheme-btn" style="background: #FB7185;" onclick="setScheme('crimson')"
                        title="Crimson & Slate"></div>
                    <div class="scheme-btn" style="background: #60A5FA;" onclick="setScheme('oxford')"
                        title="Oxford Blue"></div>
                    <div class="scheme-btn" style="background: #86EFAC;" onclick="setScheme('sage')"
                        title="Sage & Stone"></div>
                    <div class="scheme-btn" style="background: #C084FC;" onclick="setScheme('royal')"
                        title="Royal & Silver"></div>
                </div>
            </div>

            <!-- Theme Toggle -->
            <label class="theme-switch" title="Toggle Dark/Light Mode">
                <input type="checkbox" id="theme-checkbox" onchange="toggleTheme()" checked>
                <span class="slider">
                    <!-- Stars (Dark Mode) -->
                    <div class="star star-1"></div>
                    <div class="star star-2"></div>
                    <div class="star star-3"></div>
                    <div class="star star-4"></div>
                    <div class="star star-5"></div>

                    <!-- Clouds (Light Mode) -->
                    <div class="cloud cloud-1"></div>
                    <div class="cloud cloud-2"></div>
                </span>
            </label>
        </div>

        <!-- Copyright -->
        <div class="hidden md:block text-xs text-[var(--text-muted)]">
            &copy; <span id="year"></span> Swastik Sharma
        </div>
    </aside>

    <!-- RIGHT PANEL: Dynamic Content Area -->
    <main class="flex-1 h-full relative z-10 flex flex-col">

        <!-- Navigation (Tabs) -->
        <nav id="main-nav"
            class="fixed inset-0 md:sticky md:top-0 z-[100] md:z-40 w-full h-full md:h-auto p-6 md:p-8 hidden md:flex flex-col md:flex-row justify-center md:justify-start items-center md:items-center gap-8 md:gap-8 border-b border-gray-500/10 bg-[var(--bg-body)] md:bg-[var(--bg-body)]/50 backdrop-blur-xl md:backdrop-blur-sm transition-colors duration-500">

            <!-- Mobile Close Button -->
            <button id="close-menu-btn"
                class="absolute top-6 right-6 md:hidden text-[var(--text-muted)] hover:text-[var(--text-main)] p-2">
                <i data-lucide="x" class="w-10 h-10"></i>
            </button>

            <button onclick="showSection('about')"
                class="nav-item active text-3xl md:text-sm font-medium uppercase tracking-wider py-2 pb-1">About</button>
            <button onclick="showSection('cv')"
                class="nav-item text-3xl md:text-sm font-medium uppercase tracking-wider py-2 pb-1">CV</button>
            <button onclick="showSection('research')"
                class="nav-item text-3xl md:text-sm font-medium uppercase tracking-wider py-2 pb-1">Research</button>
            <button onclick="showSection('publications')"
                class="nav-item text-3xl md:text-sm font-medium uppercase tracking-wider py-2 pb-1">Publications</button>
            <button onclick="showSection('teaching')"
                class="nav-item text-3xl md:text-sm font-medium uppercase tracking-wider py-2 pb-1">Teaching</button>
            <button onclick="showSection('reads')"
                class="nav-item text-3xl md:text-sm font-medium uppercase tracking-wider py-2 pb-1">Interesting
                Reads</button>
            <button onclick="showSection('blog')"
                class="nav-item text-3xl md:text-sm font-medium uppercase tracking-wider py-2 pb-1">Blog</button>
            <button onclick="showSection('gallery')"
                class="nav-item text-3xl md:text-sm font-medium uppercase tracking-wider py-2 pb-1">Gallery</button>
            <button onclick="showSection('contact')"
                class="nav-item text-3xl md:text-sm font-medium uppercase tracking-wider py-2 pb-1">Contact</button>
            </div>
        </nav>

        <!-- Scrollable Content Container -->
        <div class="flex-1 overflow-y-auto p-6 md:p-12 scroll-smooth relative">

            <!-- SECTION: ABOUT -->
            <section id="about" class="max-w-4xl fade-in text-[var(--text-main)]">
                <h3 class="text-2xl font-bold mb-6 flex items-center">
                    <i data-lucide="user" class="mr-3 text-[var(--primary)]"></i> Biography
                </h3>
                <div class="glass-panel p-8 rounded-xl mb-8">
                    <p class="text-[var(--text-muted)] leading-loose mb-4 transition-colors">
                        <!-- EDIT: Your Bio -->
                        Technological advancements are driving the rapid integration of renewables into the grid.
                        However, they face challenges of intermittency and variability (quite sad, isn't it?), which
                        pose difficulties for system operators in maintaining a consistent supply-demand balance. As a
                        <strong class="text-[var(--text-main)]">Prime Minister's Research Fellow (PMRF)</strong> at the
                        <strong class="text-[var(--text-main)]">Indian Institute of Technology Kanpur</strong>, my
                        research focuses on <strong class="text-[var(--text-main)]">Transactive Energy System Design,
                            Independent Distribution System Operator, Flexibility services, and Electricity
                            Markets</strong>. My goal is to enhance grid reliability and leverage renewable power
                        sources. With a Bachelor's degree from the <strong class="text-[var(--text-main)]">National
                            Institute of Technology Srinagar</strong>, I possess a comprehensive understanding of theory
                        and practice (or at least I believe so). I am enthusiastic about applying my skills and
                        knowledge to bring about positive changes in the energy sector by enhancing grid reliability
                        through distribution-side flexibility and innovating electricity market operations (that lengthy
                        sentence reflects my excitement!). The potential for innovation in the energy sector is
                        limitless, and I firmly believe (emphasis on "I believe") that this research has the power to
                        strengthen the grid, increase renewable deployment, positively impact the climate (Go Greta!),
                        and enhance grid resiliency â€“ truly a win-win situation.
                    </p>
                </div>

                <!-- NEW: Resume Section moved to its own section -->


                <h4 class="text-lg font-bold mb-4 mt-8">Current Focus Areas</h4>
                <div class="grid grid-cols-2 md:grid-cols-2 gap-4">
                    <div class="glass-panel p-4 rounded-lg flex items-start">
                        <i data-lucide="network" class="text-[var(--primary)] mt-1 mr-3"></i>
                        <div>
                            <h5 class="font-bold text-sm">DER Aggregation</h5>
                            <p class="text-xs text-[var(--text-muted)] mt-1">Designing optimization tools to aggregate
                                DERs for Wholesale Market participation. </p>
                        </div>
                    </div>
                    <div class="glass-panel p-4 rounded-lg flex items-start">
                        <i data-lucide="user" class="text-[var(--primary)] mt-1 mr-3"></i>
                        <div>
                            <h5 class="font-bold text-sm">Independent Distribution System Operator (IDSO)</h5>
                            <p class="text-xs text-[var(--text-muted)] mt-1">Modelling the role of IDSO to perform
                                grid-safe aggregation and participate in wholesale markets.</p>
                        </div>
                    </div>
                    <div class="glass-panel p-4 rounded-lg flex items-start">
                        <i data-lucide="ev-charger" class="text-[var(--primary)] mt-1 mr-3"></i>
                        <div>
                            <h5 class="font-bold text-sm">DRL Agents for DERs</h5>
                            <p class="text-xs text-[var(--text-muted)] mt-1">Deep reinforcement learning (DRL) based
                                transactive agents for DERs</p>
                        </div>
                    </div>
                    <div class="glass-panel p-4 rounded-lg flex items-start">
                        <i data-lucide="receipt-text" class="text-[var(--primary)] mt-1 mr-3"></i>
                        <div>
                            <h5 class="font-bold text-sm">Swing Contract Design</h5>
                            <p class="text-xs text-[var(--text-muted)] mt-1">Developing Swing Contracts for IDSO</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION: CV -->
            <section id="cv" class="max-w-4xl hidden text-[var(--text-main)]">
                <h3 class="text-2xl font-bold mb-6 flex items-center">
                    <i data-lucide="file-text" class="mr-3 text-[var(--primary)]"></i> Curriculum Vitae
                </h3>
                <div class="glass-panel p-6 rounded-xl mb-8">
                    <div
                        class="w-full h-[70vh] md:h-screen bg-[var(--bg-body)]/50 rounded-lg border border-[var(--glass-border)] flex items-center justify-center relative overflow-hidden group">
                        <iframe src="V1.0/PDF/CV.SwastikSharma.pdf#toolbar=0&navpanes=0&scrollbar=0"
                            class="w-full h-full relative z-10 opacity-80 hover:opacity-100 transition-opacity"
                            title="Resume PDF"></iframe>
                    </div>
                </div>
            </section>

            <!-- SECTION: RESEARCH / PROJECTS -->
            <section id="research" class="max-w-4xl hidden text-[var(--text-main)]">
                <h3 class="text-2xl font-bold mb-6 flex items-center">
                    <i data-lucide="microscope" class="mr-3 text-[var(--primary)]"></i> Projects
                </h3>

                <div class="grid grid-cols-1 gap-6">
                    <!-- Project Card 1 -->

                    <div
                        class="glass-panel p-6 rounded-xl border-l-4 border-l-[var(--primary)] group hover:translate-x-2 transition-transform duration-300">
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="text-xl font-bold group-hover:text-[var(--primary)] transition-colors">IDSO's DER
                                Aggregation Tool</h4>
                            <span
                                class="px-2 py-1 bg-[var(--primary)]/10 text-[var(--primary)] text-xs rounded font-mono">Python
                                | Answer Set Programming</span>
                        </div>
                        <p id="desc-IDSO" class="text-[var(--text-muted)] text-sm mb-4">
                            An open source tool to model Independent Distribution System Operator (IDSO) for aggregating
                            distributed energy resources (DERs) and participating in wholesale electricity markets while
                            ensuring grid safety and reliability. The tool uses optimization techniques to maximize DER
                            revenue while adhering to grid constraints. The complete mathematical formulation can be
                            found <a href="https://arxiv.org/abs/2508.08187" target="_blank" rel="noopener noreferrer"
                                class="text-[var(--primary)] underline">here</a>.
                        </p>

                        <!-- AI Feature: Explain -->
                        <div id="ai-result-IDSO"
                            class="hidden bg-[var(--primary)]/10 border border-[var(--primary)]/30 p-3 rounded mb-4 text-xs text-[var(--text-main)]">
                        </div>

                        <div class="flex gap-3 items-center">
                            <a href="https://github.com/sharmaswastik/IDSOAggregationProblem"
                                class="text-xs flex items-center text-[var(--text-muted)] hover:text-[var(--text-main)]"><i
                                    data-lucide="github" class="w-3 h-3 mr-1"></i> Repository</a>
                            <a href="https://arxiv.org/abs/2508.08187"
                                class="text-xs flex items-center text-[var(--text-muted)] hover:text-[var(--text-main)]"><i
                                    data-lucide="file-text" class="w-3 h-3 mr-1"></i> Documentation</a>
                            <div class="flex-grow"></div>
                            <button onclick="explainProject('desc-IDSO', 'ai-result-IDSO')"
                                class="text-xs flex items-center bg-gradient-to-r from-[var(--primary)] to-[var(--primary)] hover:from-[var(--primary)] hover:to-[var(--primary)] text-white px-3 py-1 rounded shadow-lg transition-all">
                                <i data-lucide="sparkles" class="w-3 h-3 mr-2"></i> Explain Simply
                            </button>
                        </div>
                    </div>

                    <!-- Project Card 2 -->
                    <div
                        class="glass-panel p-6 rounded-xl border-l-4 border-l-[var(--primary)] group hover:translate-x-2 transition-transform duration-300 relative">
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="text-xl font-bold group-hover:text-[var(--primary)] transition-colors">
                                Three-Phase Unbalanced LinDistFlow</h4>
                            <span
                                class="px-2 py-1 bg-[var(--primary)]/10 text-[var(--primary)] text-xs rounded font-mono">Python
                                | Pyomo</span>
                        </div>
                        <p id="desc-project-alpha" class="text-[var(--text-muted)] text-sm mb-4">
                            This project focuses on developing a three-phase unbalanced LinDistFlow model using Python.
                            The model aims to accurately represent power flow in distribution networks, accounting for
                            unbalanced loads and phases.
                        </p>

                        <!-- AI Feature: Explain -->
                        <div id="ai-result-project-alpha"
                            class="hidden bg-[var(--primary)]/10 border border-[var(--primary)]/30 p-3 rounded mb-4 text-xs text-[var(--text-main)]">
                        </div>

                        <div class="flex gap-3 items-center">
                            <a href="https://github.com/sharmaswastik/Three-Phase-Distribution-Network-OPF"
                                class="text-xs flex items-center text-[var(--text-muted)] hover:text-[var(--text-main)]"><i
                                    data-lucide="github" class="w-3 h-3 mr-1"></i> Repository</a>
                            <div class="flex-grow"></div>
                            <button onclick="explainProject('desc-project-alpha', 'ai-result-project-alpha')"
                                class="text-xs flex items-center bg-gradient-to-r from-[var(--primary)] to-[var(--primary)] hover:from-[var(--primary)] hover:to-[var(--primary)] text-white px-3 py-1 rounded shadow-lg transition-all">
                                <i data-lucide="sparkles" class="w-3 h-3 mr-2"></i> Explain Simply
                            </button>
                        </div>
                    </div>

                    <!-- Project Card 3 -->
                    <div
                        class="glass-panel p-6 rounded-xl border-l-4 border-l-[var(--primary)] group hover:translate-x-2 transition-transform duration-300 relative">
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="text-xl font-bold group-hover:text-[var(--primary)] transition-colors">
                                Meta-Reinforcement Learning</h4>
                            <span
                                class="px-2 py-1 bg-[var(--primary)]/10 text-[var(--primary)] text-xs rounded font-mono">Python
                                |
                                Pytorch</span>
                        </div>
                        <p id="desc-project-RL2" class="text-[var(--text-muted)] text-sm mb-4">
                            An implementation of the paper RL2: Fast Reinforcement Learning via Slow Reinforcement
                            Learning (available <a href="https://arxiv.org/pdf/1611.02779.pdf"
                                class="text-[var(--primary)] underline">here</a>). We used GRUs to train our model, and
                            the
                            policy is optimized using a simple actor-critic algorithm, with the actor being the RNN
                            agent and the baseline/critic network being a simple MLP.
                        </p>

                        <!-- AI Feature: Explain -->
                        <div id="ai-result-project-RL2"
                            class="hidden bg-[var(--primary)]/10 border border-[var(--primary)]/30 p-3 rounded mb-4 text-xs text-[var(--text-main)]">
                        </div>

                        <div class="flex gap-3 items-center">
                            <a href="https://github.com/sharmaswastik/EE-675A-Course-Project"
                                class="text-xs flex items-center text-[var(--text-muted)] hover:text-[var(--text-main)]"><i
                                    data-lucide="github" class="w-3 h-3 mr-1"></i> Repository</a>
                            <div class="flex-grow"></div>
                            <button onclick="explainProject('desc-project-RL2', 'ai-result-project-RL2')"
                                class="text-xs flex items-center bg-gradient-to-r from-[var(--primary)] to-[var(--primary)] hover:from-[var(--primary)] hover:to-[var(--primary)] text-white px-3 py-1 rounded shadow-lg transition-all">
                                <i data-lucide="sparkles" class="w-3 h-3 mr-2"></i> Explain Simply
                            </button>
                        </div>
                    </div>

                </div>
            </section>

            <!-- SECTION: PMRF TEACHING (NEW) -->
            <section id="teaching" class="max-w-4xl hidden text-[var(--text-main)]">
                <h3 class="text-2xl font-bold mb-6 flex items-center">
                    <i data-lucide="presentation" class="mr-3 text-[var(--primary)]"></i> PMRF Teaching Duties
                </h3>

                <div class="space-y-6">

                    <!-- Teaching Role 6 -->
                    <div class="glass-panel p-6 rounded-xl">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="text-lg font-bold text-[var(--text-main)]">Chhatrapati Shahu Ji Maharaj
                                    University (CSJMU), Kanpur: Workshop on "LaTeX for Document Editing"</h4>
                                <p class="text-sm text-[var(--primary)]">Teaching Assistant</p>
                            </div>
                            <span class="text-xs font-mono text-[var(--text-muted)]">Jan 2025 - April 2025</span>
                        </div>
                        <p class="text-sm text-[var(--text-muted)] mt-2">
                            A workshop focused on teaching LaTeX for professional document preparation, covering basics
                            to advanced formatting techniques.
                        </p>
                    </div>

                    <!-- Teaching Role 5 -->
                    <div class="glass-panel p-6 rounded-xl">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="text-lg font-bold text-[var(--text-main)]">NPTEL Course: EE79 Smart Grids:
                                    Basics to Advanced Technologies </h4>
                                <p class="text-sm text-[var(--primary)]">Teaching Assistant</p>
                            </div>
                            <span class="text-xs font-mono text-[var(--text-muted)]">Jan 2025 - April 2025</span>
                        </div>
                        <p class="text-sm text-[var(--text-muted)] mt-2">
                            Doubt clearing and problem solving sessions for students enrolled in the course.
                        </p>
                        <div class="mt-4 flex gap-2">
                            <span
                                class="px-2 py-1 bg-[var(--bg-body)] border border-[var(--glass-border)] rounded text-xs text-[var(--text-muted)]"><a
                                    href="https://www.youtube.com/playlist?list=PLqTDTw8KvSg5i9fhQVENGgpfDnFlX6Mzm">YouTube
                                    Lectures</a></span>
                        </div>
                    </div>

                    <!-- Teaching Role 4 -->
                    <div class="glass-panel p-6 rounded-xl">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="text-lg font-bold text-[var(--text-main)]">Chhatrapati Shahu Ji Maharaj
                                    University (CSJMU), Kanpur: Workshop on "Machine Learning with Python"</h4>
                                <p class="text-sm text-[var(--primary)]">Teaching Assistant</p>
                            </div>
                            <span class="text-xs font-mono text-[var(--text-muted)]">April 2024</span>
                        </div>
                        <p class="text-sm text-[var(--text-muted)] mt-2">
                            A 30-hours hands-on workshop covering fundamentals of Machine Learning using Python.
                        </p>
                    </div>

                    <!-- Teaching Role 3 -->
                    <div class="glass-panel p-6 rounded-xl">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="text-lg font-bold text-[var(--text-main)]">NPTEL Course: EE37 Smart Grids:
                                    Basics to Advanced Technologies </h4>
                                <p class="text-sm text-[var(--primary)]">Teaching Assistant</p>
                            </div>
                            <span class="text-xs font-mono text-[var(--text-muted)]">Jan 2024 - April 2024</span>
                        </div>
                        <p class="text-sm text-[var(--text-muted)] mt-2">
                            Doubt clearing and problem solving sessions for students enrolled in the course.
                        </p>
                        <div class="mt-4 flex gap-2">
                            <span
                                class="px-2 py-1 bg-[var(--bg-body)] border border-[var(--glass-border)] rounded text-xs text-[var(--text-muted)]"><a
                                    href="https://www.youtube.com/playlist?list=PLqTDTw8KvSg6MIw_CUPUsWb9gUXGZ1C4a">YouTube
                                    Lectures</a></span>
                        </div>
                    </div>

                    <!-- Teaching Role 2 -->
                    <div class="glass-panel p-6 rounded-xl">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="text-lg font-bold text-[var(--text-main)]">Atal Bihari Vajpayee Indian
                                    Institute of Information Technology Gwalior: EE101 Fundamentals of Electrical and
                                    Electronics</h4>
                                <p class="text-sm text-[var(--primary)]">Teaching Assistant</p>
                            </div>
                            <span class="text-xs font-mono text-[var(--text-muted)]">Oct 2023</span>
                        </div>
                        <p class="text-sm text-[var(--text-muted)] mt-2">
                            Problem solving tutorials and laboratory practicals.
                        </p>
                    </div>

                    <!-- Teaching Role 1 -->
                    <div class="glass-panel p-6 rounded-xl">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="text-lg font-bold text-[var(--text-main)]">NPTEL Course: EE116 Fundamentals
                                    of Electrical Engineering </h4>
                                <p class="text-sm text-[var(--primary)]">Teaching Assistant</p>
                            </div>
                            <span class="text-xs font-mono text-[var(--text-muted)]">July 2023 - Oct 2023</span>
                        </div>
                        <p class="text-sm text-[var(--text-muted)] mt-2">
                            Doubt clearing and problem solving sessions for students enrolled in the course.
                        </p>
                        <div class="mt-4 flex gap-2">
                            <span
                                class="px-2 py-1 bg-[var(--bg-body)] border border-[var(--glass-border)] rounded text-xs text-[var(--text-muted)]"><a
                                    href="https://www.youtube.com/playlist?list=PLqTDTw8KvSg6NKI3vbjbNdLEzqgcS19Jj">YouTube
                                    Lectures</a></span>
                        </div>
                    </div>
                </div>

                <h3 class="text-2xl font-bold mt-6 mb-6 flex items-center">
                    <i data-lucide="presentation" class="mr-3 text-[var(--primary)]"></i> Institute Teaching Duties
                </h3>

                <div class="space-y-6">

                    <!-- Teaching Role 5 -->

                    <div class="glass-panel p-6 rounded-xl">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="text-lg font-bold text-[var(--text-main)]">EE 630(P): Simulation of Modern
                                    Power Systems</h4>
                                <p class="text-sm text-[var(--primary)]">Teaching Assistant (Lab Tutor)</p>
                            </div>
                            <span class="text-xs font-mono text-[var(--text-muted)]">2025-26 Sem I</span>
                        </div>
                        <p class="text-sm text-[var(--text-muted)] mt-2">
                            Conducted lab sessions on power system simulation using Python.
                        </p>
                        <div class="mt-4 flex gap-2">
                            <span
                                class="px-2 py-1 bg-[var(--bg-body)] border border-[var(--glass-border)] rounded text-xs text-[var(--text-muted)]">Python</span>
                            <span
                                class="px-2 py-1 bg-[var(--bg-body)] border border-[var(--glass-border)] rounded text-xs text-[var(--text-muted)]">Algorithms</span>
                        </div>
                    </div>

                    <!-- Teaching Role 4 -->

                    <div class="glass-panel p-6 rounded-xl">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="text-lg font-bold text-[var(--text-main)]">EE 675: Introduction to
                                    Reinforcement Learning</h4>
                                <p class="text-sm text-[var(--primary)]">Teaching Assistant</p>
                            </div>
                            <span class="text-xs font-mono text-[var(--text-muted)]">2024-25 Sem II</span>
                        </div>
                        <p class="text-sm text-[var(--text-muted)] mt-2">
                            Assisting instructor with correcting assignments, and clearing student doubts.
                        </p>
                    </div>

                    <!-- Teaching Role 3 -->

                    <div class="glass-panel p-6 rounded-xl">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="text-lg font-bold text-[var(--text-main)]">EE 633A: Electric Power System
                                    Operation and Management Under Restructured Environment</h4>
                                <p class="text-sm text-[var(--primary)]">Teaching Assistant</p>
                            </div>
                            <span class="text-xs font-mono text-[var(--text-muted)]">2022-23 Sem II</span>
                        </div>
                        <p class="text-sm text-[var(--text-muted)] mt-2">
                            Assisting instructor with correcting quizzes, assignments, and clearing student doubts.
                        </p>
                    </div>

                    <!-- Teaching Role 2 -->
                    <div class="glass-panel p-6 rounded-xl">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="text-lg font-bold text-[var(--text-main)]">EE 632A: Economic Operation and
                                    Control of Power Systems</h4>
                                <p class="text-sm text-[var(--primary)]">Teaching Assistant</p>
                            </div>
                            <span class="text-xs font-mono text-[var(--text-muted)]">2022-23 Sem I</span>
                        </div>
                        <p class="text-sm text-[var(--text-muted)] mt-2">
                            Assisting instructor with correcting quizzes, assignments, and clearing student doubts.
                        </p>
                    </div>

                    <!-- Teaching Role 1 -->
                    <div class="glass-panel p-6 rounded-xl">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="text-lg font-bold text-[var(--text-main)]">ESO 203A: Introduction to
                                    Electrical Engineering</h4>
                                <p class="text-sm text-[var(--primary)]">Teaching Assistant</p>
                            </div>
                            <span class="text-xs font-mono text-[var(--text-muted)]">2021-22 Sem II</span>
                        </div>
                        <p class="text-sm text-[var(--text-muted)] mt-2">
                            Preparing questions for weekly quizzes and assisting in grading assignments.
                        </p>
                    </div>

                    <!-- Mentorship
                     <div class="glass-panel p-6 rounded-xl border-l-4 border-l-orange-400">
                        <div class="flex items-center mb-4">
                            <i data-lucide="users" class="text-orange-400 mr-2 w-5 h-5"></i>
                            <h4 class="text-lg font-bold text-[var(--text-main)]">Mentorship</h4>
                        </div>
                        <ul class="list-disc list-inside text-sm text-[var(--text-muted)] space-y-2">
                            <li><strong>Sarah Jenkins (PhD Candidate):</strong> Advising on reinforcement learning strategies in protein folding.</li>
                            <li><strong>David Lee (Undergraduate):</strong> Supervised summer research project on genomic data visualization.</li>
                        </ul>
                    </div> -->
                </div>
            </section>

            <!-- SECTION: GALLERY (NEW) -->
            <section id="gallery" class="max-w-4xl hidden text-[var(--text-main)]">
                <h3 class="text-2xl font-bold mb-6 flex items-center">
                    <i data-lucide="image" class="mr-3 text-[var(--primary)]"></i> Presented my research paper at IEEE
                    PESGM 2024, Seattle, WA, USA
                </h3>
                <div class="gallery-grid">
                    <!-- Gallery Item 1 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/1.JPEG')">
                        <img src="V1.0/images/1.JPEG">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                    <!-- Gallery Item 2 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/2.JPEG')">
                        <img src="V1.0/images/2.JPEG">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                    <!-- Gallery Item 3 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/3.JPEG')">
                        <img src="V1.0/images/3.JPEG">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                    <!-- Gallery Item 4 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/4.JPEG')">
                        <img src="V1.0/images/4.JPEG">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                    <!-- Gallery Item 5 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/PESGMPoster.jpeg')">
                        <img src="V1.0/images/PESGMPoster.jpeg">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                    <!-- Gallery Item 6 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/6 Small.jpeg')">
                        <img src="V1.0/images/6 Small.jpeg">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                    <!-- Gallery Item 7 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/7.JPEG')">
                        <img src="V1.0/images/7.JPEG">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                    <!-- Gallery Item 8 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/8.JPEG')">
                        <img src="V1.0/images/8.JPEG">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                </div>
                <h3 class="text-2xl font-bold mb-6 mt-6 flex items-center">
                    <i data-lucide="image" class="mr-3 text-[var(--primary)]"></i> My talk at Kendriya Vidyalaya No. 1
                    Jammu
                </h3>

                <div class="gallery-grid">
                    <!-- Gallery Item 1 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/img1.JPG')">
                        <img src="V1.0/images/img1.JPG">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                    <!-- Gallery Item 2 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/img2.JPG')">
                        <img src="V1.0/images/img2.JPG">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                    <!-- Gallery Item 3 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/img3.JPG')">
                        <img src="V1.0/images/img3.JPG">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                    <!-- Gallery Item 4 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/img4.JPG')">
                        <img src="V1.0/images/img4.JPG">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                    <!-- Gallery Item 5 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/img5.JPG')">
                        <img src="V1.0/images/img5.JPG">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                    <!-- Gallery Item 6 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/img6.JPG')">
                        <img src="V1.0/images/img6.JPG">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                    <!-- Gallery Item 7 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/img7.JPG')">
                        <img src="V1.0/images/img7.JPG">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                    <!-- Gallery Item 8 -->
                    <div class="gallery-item glass-panel group" onclick="openLightbox('V1.0/images/img2.JPG')">
                        <img src="V1.0/images/img2.JPG">
                        <div class="gallery-overlay"><i data-lucide="maximize-2" class="text-white w-8 h-8"></i></div>
                    </div>
                </div>
            </section>

            <!-- SECTION: PUBLICATIONS -->
            <section id="publications" class="max-w-4xl hidden text-[var(--text-main)]">
                <h3 class="text-2xl font-bold mb-6 flex items-center">
                    <i data-lucide="book-open" class="mr-3 text-[var(--primary)]"></i> Publications
                </h3>

                <!-- Group: Preprints -->
                <h4
                    class="text-lg font-bold mb-4 mt-2 text-[var(--text-main)] border-b border-[var(--glass-border)] pb-2">
                    Preprints</h4>
                <div class="space-y-4 mb-8">
                    <div class="glass-panel p-6 rounded-xl relative">
                        <span class="absolute top-6 right-6 text-xs font-mono text-[var(--text-muted)]">2025</span>
                        <h4 class="text-lg font-bold pr-12">IDSO-Managed Bid-Based Transactive Distribution Systems
                            Design for DER Participation in Wholesale Markets While Preserving T-D Interactions</h4>
                        <p class="text-[var(--primary)] text-sm mb-2">S. Sharma, S. Battula, and S.N. Singh</p>
                        <p class="text-[var(--text-muted)] text-sm italic mb-4">arXiv:2508.08187</p>
                        <div class="flex gap-3">
                            <button
                                onclick="copyToClipboard('S. Sharma, S. Battula and S. N. Singh, â€œIDSO-Managed Bid-Based Transactive Distribution Systems Design for DER Participation in Wholesale Markets While Preserving T-D Interactions,â€ arXiv:2508.08187, 2025.')"
                                class="px-3 py-1 bg-[var(--primary)]/10 hover:bg-[var(--primary)]/20 rounded text-xs text-[var(--text-main)] flex items-center transition-colors">
                                <i data-lucide="quote" class="w-3 h-3 mr-2"></i> Cite
                            </button>
                            <a href="https://arxiv.org/abs/2508.08187"
                                class="px-3 py-1 bg-[var(--primary)]/20 hover:bg-[var(--primary)]/30 text-[var(--primary)] rounded text-xs flex items-center transition-colors"><i
                                    data-lucide="link" class="w-3 h-3 mr-2"></i>
                                Link
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Group: Journals
                <h4 class="text-lg font-bold mb-4 text-[var(--text-main)] border-b border-[var(--glass-border)] pb-2">Journal Articles</h4>
                <div class="space-y-4 mb-8"> -->
                <!-- Publication Item -->
                <!-- <div class="glass-panel p-6 rounded-xl relative">
                        <span class="absolute top-6 right-6 text-xs font-mono text-[var(--text-muted)]">2024</span>
                        <h4 class="text-lg font-bold pr-12">Algorithmic Bias in genomic datasets: A comprehensive review</h4>
                        <p class="text-[var(--primary)] text-sm mb-2">A. Chen, J. Doe, S. Smith</p>
                        <p class="text-[var(--text-muted)] text-sm italic mb-4">Journal of Computational Biology, Vol 12.</p>
                        <div class="flex gap-3">
                            <button onclick="copyToClipboard('Chen et al. 2024, Algorithmic Bias...')" class="px-3 py-1 bg-[var(--primary)]/10 hover:bg-[var(--primary)]/20 rounded text-xs text-[var(--text-main)] flex items-center transition-colors">
                                <i data-lucide="quote" class="w-3 h-3 mr-2"></i> Cite
                            </button>
                            <a href="#" class="px-3 py-1 bg-[var(--primary)]/20 hover:bg-[var(--primary)]/30 text-[var(--primary)] rounded text-xs flex items-center transition-colors">
                                PDF
                            </a>
                        </div>
                    </div>
                </div> -->

                <!-- Group: Conferences -->
                <h4 class="text-lg font-bold mb-4 text-[var(--text-main)] border-b border-[var(--glass-border)] pb-2">
                    Conference Proceedings</h4>
                <div class="space-y-4">
                    <!-- Publication Item -->
                    <div class="glass-panel p-6 rounded-xl relative">
                        <span class="absolute top-6 right-6 text-xs font-mono text-[var(--text-muted)]">2026</span>
                        <h4 class="text-lg font-bold pr-12">Towards Improved System Flexibility: Enabling IDSO's Swing
                            Contract Market Participation</h4>
                        <p class="text-[var(--primary)] text-sm mb-2">S. Sharma, S. Battula, and S.N. Singh</p>
                        <p class="text-[var(--text-muted)] text-sm italic mb-4">2026 IEEE Power & Energy Society
                            Transmission & Distribution Conference & Exposition, Chicago, Illinois, 2026
                            <b>[Accepted]</b>
                        </p>
                        <!-- <div class="flex gap-3">
                            <button onclick="copyToClipboard('Chen & Rossi 2023, Optimizing Graph Theory...')" class="px-3 py-1 bg-[var(--primary)]/10 hover:bg-[var(--primary)]/20 rounded text-xs text-[var(--text-main)] flex items-center transition-colors">
                                <i data-lucide="quote" class="w-3 h-3 mr-2"></i> Cite
                            </button>
                            <a href="#" class="px-3 py-1 bg-[var(--primary)]/20 hover:bg-[var(--primary)]/30 text-[var(--primary)] rounded text-xs flex items-center transition-colors">
                                PDF
                            </a>
                        </div> -->
                    </div>
                    <div class="glass-panel p-6 rounded-xl relative">
                        <span class="absolute top-6 right-6 text-xs font-mono text-[var(--text-muted)]">2024</span>
                        <h4 class="text-lg font-bold pr-12">Transactive Electric Vehicle Agent: A Deep Reinforcement
                            Learning Approach</h4>
                        <p class="text-[var(--primary)] text-sm mb-2">S. Sharma, S. Battula, and S.N. Singh</p>
                        <p class="text-[var(--text-muted)] text-sm italic mb-4">2024 IEEE Power & Energy Society General
                            Meeting, Seattle, Washington, 2024</p>
                        <p class="text-[var(--text-muted)] text-sm italic mb-4">doi: 10.1109/PESGM51994.2024.10688919.
                        </p>
                        <div class="flex gap-3">
                            <button
                                onclick="copyToClipboard('S. Sharma, S. Battula and S. N. Singh, Transactive Electric Vehicle Agent: A Deep Reinforcement Learning Approach, 2024 IEEE Power & Energy Society General Meeting (PESGM), Seattle, WA, USA, 2024, pp. 1-5, doi: 10.1109/PESGM51994.2024.10688919.')"
                                class="px-3 py-1 bg-[var(--primary)]/10 hover:bg-[var(--primary)]/20 rounded text-xs text-[var(--text-main)] flex items-center transition-colors">
                                <i data-lucide="quote" class="w-3 h-3 mr-2"></i> Cite
                            </button>
                            <a href="https://ieeexplore.ieee.org/document/10688919"
                                class="px-3 py-1 bg-[var(--primary)]/20 hover:bg-[var(--primary)]/30 text-[var(--primary)] rounded text-xs flex items-center transition-colors"><i
                                    data-lucide="link" class="w-3 h-3 mr-2"></i>
                                Link
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION: INTERESTING READS -->
            <section id="reads" class="max-w-4xl hidden text-[var(--text-main)]">
                <h3 class="text-2xl font-bold mb-6 flex items-center">
                    <i data-lucide="library" class="mr-3 text-[var(--primary)]"></i> Interesting Reads
                </h3>

                <div class="space-y-8">
                    <!-- Fictional Books -->
                    <div>
                        <h4
                            class="text-lg font-bold mb-4 text-[var(--text-main)] border-b border-[var(--glass-border)] pb-2">
                            Fictional & General Reads</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="glass-panel p-4 rounded-lg flex items-start">
                                <i data-lucide="book" class="text-[var(--primary)] mt-1 mr-3 flex-shrink-0"></i>
                                <div>
                                    <h5 class="font-bold text-sm">Yellowface</h5>
                                    <p class="text-xs text-[var(--text-muted)] mt-1">by R.F. Kuang</p>
                                    <p class="text-xs text-[var(--text-muted)] mt-2">A satirical thriller about
                                        diversity, cultural appropriation, and the publishing industry.</p>
                                    <a href="https://www.google.com/search?q=Yellowface+R.F.+Kuang" target="_blank"
                                        class="inline-flex items-center mt-2 text-xs text-[var(--primary)] hover:underline">
                                        <i data-lucide="search" class="w-3 h-3 mr-1"></i> Search
                                    </a>
                                </div>
                            </div>
                            <div class="glass-panel p-4 rounded-lg flex items-start">
                                <i data-lucide="book-open" class="text-[var(--primary)] mt-1 mr-3 flex-shrink-0"></i>
                                <div>
                                    <h5 class="font-bold text-sm">Psycho-Cybernetics</h5>
                                    <p class="text-xs text-[var(--text-muted)] mt-1">by Maxwell Maltz</p>
                                    <p class="text-xs text-[var(--text-muted)] mt-2">A self-help classic exploring the
                                        mind-body connection and self-image psychology.</p>
                                    <a href="https://www.google.com/search?q=Psycho-Cybernetics+Maxwell+Maltz"
                                        target="_blank"
                                        class="inline-flex items-center mt-2 text-xs text-[var(--primary)] hover:underline">
                                        <i data-lucide="search" class="w-3 h-3 mr-1"></i> Search
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Technical Books -->
                    <div>
                        <h4
                            class="text-lg font-bold mb-4 text-[var(--text-main)] border-b border-[var(--glass-border)] pb-2">
                            Technical Books</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="glass-panel p-4 rounded-lg flex items-start">
                                <i data-lucide="zap" class="text-[var(--primary)] mt-1 mr-3 flex-shrink-0"></i>
                                <div>
                                    <h5 class="font-bold text-sm">Power System Analysis</h5>
                                    <p class="text-xs text-[var(--text-muted)] mt-1">by Grainger and Stevenson</p>
                                    <p class="text-xs text-[var(--text-muted)] mt-2">The classic comprehensive guide to
                                        power systems engineering.</p>
                                    <a href="https://www.google.com/search?q=Power+System+Analysis+Grainger+Stevenson"
                                        target="_blank"
                                        class="inline-flex items-center mt-2 text-xs text-[var(--primary)] hover:underline">
                                        <i data-lucide="search" class="w-3 h-3 mr-1"></i> Search
                                    </a>
                                </div>
                            </div>
                            <div class="glass-panel p-4 rounded-lg flex items-start">
                                <i data-lucide="trending-up" class="text-[var(--primary)] mt-1 mr-3 flex-shrink-0"></i>
                                <div>
                                    <h5 class="font-bold text-sm">A New Swing-Contract Design for Wholesale Power
                                        Markets</h5>
                                    <p class="text-xs text-[var(--text-muted)] mt-1">by Leigh Tesfatsion</p>
                                    <p class="text-xs text-[var(--text-muted)] mt-2">Proposes a linked swing-contract
                                        market design for centrally-managed wholesale power markets.</p>
                                    <a href="https://www.google.com/search?q=A+New+Swing-Contract+Design+for+Wholesale+Power+Markets+Leigh+Tesfatsion"
                                        target="_blank"
                                        class="inline-flex items-center mt-2 text-xs text-[var(--primary)] hover:underline">
                                        <i data-lucide="search" class="w-3 h-3 mr-1"></i> Search
                                    </a>
                                </div>
                            </div>
                            <div class="glass-panel p-4 rounded-lg flex items-start">
                                <i data-lucide="activity" class="text-[var(--primary)] mt-1 mr-3 flex-shrink-0"></i>
                                <div>
                                    <h5 class="font-bold text-sm">Optimization Models in Electricity Markets</h5>
                                    <p class="text-xs text-[var(--text-muted)] mt-1">by Anthony Papavasiliou</p>
                                    <p class="text-xs text-[var(--text-muted)] mt-2">A comprehensive introduction to the
                                        structure and operation of electricity markets.</p>
                                    <a href="https://www.google.com/search?q=Optimization+Models+in+Electricity+Markets+Anthony+Papavasiliou"
                                        target="_blank"
                                        class="inline-flex items-center mt-2 text-xs text-[var(--primary)] hover:underline">
                                        <i data-lucide="search" class="w-3 h-3 mr-1"></i> Search
                                    </a>
                                </div>
                            </div>
                            <div class="glass-panel p-4 rounded-lg flex items-start">
                                <i data-lucide="brain-circuit"
                                    class="text-[var(--primary)] mt-1 mr-3 flex-shrink-0"></i>
                                <div>
                                    <h5 class="font-bold text-sm">Grokking Deep Reinforcement Learning</h5>
                                    <p class="text-xs text-[var(--text-muted)] mt-1">by Miguel Morales</p>
                                    <p class="text-xs text-[var(--text-muted)] mt-2">An intuitive guide to deep
                                        reinforcement learning concepts and algorithms.</p>
                                    <a href="https://www.google.com/search?q=Grokking+Deep+Reinforcement+Learning+Miguel+Morales"
                                        target="_blank"
                                        class="inline-flex items-center mt-2 text-xs text-[var(--primary)] hover:underline">
                                        <i data-lucide="search" class="w-3 h-3 mr-1"></i> Search
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Research Papers -->
                    <div>
                        <h4
                            class="text-lg font-bold mb-4 text-[var(--text-main)] border-b border-[var(--glass-border)] pb-2">
                            Research Papers</h4>
                        <div class="space-y-4">
                            <div class="glass-panel p-4 rounded-lg">
                                <h5 class="font-bold text-sm">Locational Marginal Pricing: A Fundamental Reconsideration
                                </h5>
                                <p class="text-xs text-[var(--primary)] mt-1">Leigh Tesfatsion, 2024</p>
                                <p class="text-xs text-[var(--text-muted)] mt-2">The paper introduces why there is a
                                    fundamental need to reconsider locational marginal pricing in electricity markets.
                                </p>
                                <a href="https://ieeexplore.ieee.org/document/10419119"
                                    class="inline-flex items-center mt-2 text-xs text-[var(--primary)] hover:underline">
                                    <i data-lucide="external-link" class="w-3 h-3 mr-1"></i> Read Paper
                                </a>
                            </div>
                        </div>
                        <div class="space-y-4">
                            <div class="glass-panel p-4 rounded-lg">
                                <h5 class="font-bold text-sm">Braided Cobwebs: Cautionary Tales for Dynamic Pricing in
                                    Retail Electric Power Markets</h5>
                                <p class="text-xs text-[var(--primary)] mt-1">A.G. Thomas and L. Tesfatsion, 2018</p>
                                <p class="text-xs text-[var(--text-muted)] mt-2">The paper shows that one-way dynamic
                                    retail pricing can create unstable braided cobweb cycles between wholesale and
                                    retail markets and usually reduces household welfare compared with flat-rate
                                    tariffs.</p>
                                <a href="https://ieeexplore.ieee.org/document/8353474/"
                                    class="inline-flex items-center mt-2 text-xs text-[var(--primary)] hover:underline">
                                    <i data-lucide="external-link" class="w-3 h-3 mr-1"></i> Read Paper
                                </a>
                            </div>
                        </div>
                        <div class="space-y-4">
                            <div class="glass-panel p-4 rounded-lg">
                                <h5 class="font-bold text-sm">Distribution Systems in a High Distributed Energy
                                    Resources Future</h5>
                                <p class="text-xs text-[var(--primary)] mt-1">P.D. Martin and L. Kristov, 2015</p>
                                <p class="text-xs text-[var(--text-muted)] mt-2">The article introduces for the first
                                    time, the need for an Independent Distribution System Operator (IDSO) to manage the
                                    highly "active"
                                    distribution systems. </p>
                                <a href="https://eta-publications.lbl.gov/sites/default/files/lbnl-1003797.pdf"
                                    class="inline-flex items-center mt-2 text-xs text-[var(--primary)] hover:underline">
                                    <i data-lucide="external-link" class="w-3 h-3 mr-1"></i> Read Paper
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION: BLOG -->
            <section id="blog" class="max-w-4xl hidden text-[var(--text-main)]">
                <h3 class="text-2xl font-bold mb-6 flex items-center">
                    <i data-lucide="pen-tool" class="mr-3 text-[var(--primary)]"></i> Blog
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="blog-grid">
                    <!-- Blog posts will be injected here by JS -->
                </div>
            </section>

            <!-- SECTION: CONTACT -->
            <section id="contact" class="max-w-4xl hidden text-[var(--text-main)]">
                <h3 class="text-2xl font-bold mb-6 flex items-center">
                    <i data-lucide="mail" class="mr-3 text-[var(--primary)]"></i> Get in Touch
                </h3>
                <div class="glass-panel p-8 rounded-xl relative overflow-hidden">

                    <!-- AI Assistant Badge -->
                    <div
                        class="absolute top-0 right-0 p-2 bg-[var(--primary)]/10 rounded-bl-xl border-b border-l border-[var(--primary)]/30">
                        <div class="flex items-center gap-2 text-[var(--primary)] text-xs font-mono">
                            <i data-lucide="sparkles" class="w-3 h-3"></i> Gemini Powered
                        </div>
                    </div>

                    <p class="text-[var(--text-muted)] mb-6">
                        I am always open to collaboration on open-source projects or speaking opportunities.
                    </p>

                    <div class="mb-6 p-4 bg-[var(--bg-body)]/50 rounded-lg border border-[var(--glass-border)]">
                        <label class="block text-xs font-bold text-[var(--primary)] uppercase tracking-wider mb-2">AI
                            Drafting
                            Assistant</label>
                        <div class="flex gap-2">
                            <input id="draft-topic" type="text"
                                class="flex-1 bg-[var(--bg-body)]/50 border border-[var(--glass-border)] rounded px-3 py-2 text-sm text-[var(--text-main)] focus:border-[var(--primary)] focus:outline-none"
                                placeholder="E.g., Collaboration on open-source projects...">
                            <button onclick="draftEmail()"
                                class="bg-[var(--primary)] hover:opacity-90 text-white px-4 py-2 rounded text-sm font-medium transition-colors flex items-center whitespace-nowrap">
                                <i data-lucide="sparkles" class="w-3 h-3 mr-2"></i> Smart Draft
                            </button>
                        </div>
                    </div>

                    <form action="https://formsubmit.co/swastiksharma33@gmail.com" method="POST" class="space-y-4">
                        <input type="hidden" name="_captcha" value="false">
                        <input type="hidden" value="https://your-website-url.com/thanks.html">
                        <div>
                            <label
                                class="block text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider mb-1">Name</label>
                            <input type="text" name="name"
                                class="w-full bg-[var(--bg-body)]/50 border border-[var(--glass-border)] rounded p-3 text-[var(--text-main)] focus:border-[var(--primary)] focus:outline-none transition-colors"
                                placeholder="John Doe">
                        </div>
                        <div>
                            <label
                                class="block text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider mb-1">Your
                                Email</label>
                            <input type="email" name="email"
                                class="w-full bg-[var(--bg-body)]/50 border border-[var(--glass-border)] rounded p-3 text-[var(--text-main)] focus:border-[var(--primary)] focus:outline-none transition-colors"
                                placeholder="colleague@institute.edu">
                        </div>
                        <div>
                            <label
                                class="block text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider mb-1">Message</label>
                            <textarea id="message-box" name="message" rows="6"
                                class="w-full bg-[var(--bg-body)]/50 border border-[var(--glass-border)] rounded p-3 text-[var(--text-main)] focus:border-[var(--primary)] focus:outline-none transition-colors"
                                placeholder="Let's collaborate on..."></textarea>
                        </div>
                        <button type="submit"
                            class="bg-[var(--primary)] hover:opacity-90 text-white px-6 py-2 rounded font-medium transition-colors w-full">
                            Send Message
                        </button>
                    </form>
                </div>
            </section>

            <!-- Footer Space -->
            <div class="h-20"></div>
        </div>
    </main>

    <!-- Toast Notification Element -->
    <div id="toast">Citation copied to clipboard!</div>

    <div id="lightbox" onclick="closeLightbox()">
        <img id="lightbox-img" src="" alt="Full screen view">
        <button class="absolute top-4 right-4 text-white hover:text-[var(--primary)] transition-colors">
            <i data-lucide="x" class="w-8 h-8"></i>
        </button>
    </div>

    <!-- Blog Modal -->
    <div id="blog-modal" class="fixed inset-0 z-[150] hidden">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeBlogPost()"></div>

        <!-- Modal Content -->
        <div
            class="absolute inset-4 md:inset-10 bg-[var(--bg-body)] border border-[var(--glass-border)] rounded-xl shadow-2xl overflow-hidden flex flex-col max-w-4xl mx-auto animate-in fade-in zoom-in duration-300">

            <!-- Header -->
            <div
                class="p-6 border-b border-[var(--glass-border)] flex justify-between items-start bg-[var(--glass-bg)]">
                <div>
                    <h2 id="modal-title" class="text-2xl font-bold text-[var(--text-main)]"></h2>
                    <p id="modal-date" class="text-sm text-[var(--primary)] mt-1 font-mono"></p>
                </div>
                <button onclick="closeBlogPost()"
                    class="text-[var(--text-muted)] hover:text-[var(--text-main)] p-2 rounded-full hover:bg-[var(--glass-border)] transition-colors">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>

            <!-- Scrollable Body -->
            <div class="flex-1 overflow-y-auto p-6 md:p-10 text-[var(--text-main)] leading-relaxed prose prose-invert max-w-none"
                id="modal-body">
                <!-- Content goes here -->
            </div>
        </div>
    </div>

    <script>
        // --- GEMINI API CONFIGURATION ---
        const apiKey = "REMOVED_API_KEY"; // TODO: INSERT YOUR API KEY HERE

        async function callGeminiAPI(prompt) {
            if (!apiKey) {
                showToast("Error: Missing API Key");
                return "Please add your Gemini API Key in the code to use this feature.";
            }

            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

            const payload = {
                contents: [{
                    parts: [{ text: prompt }]
                }]
            };

            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) throw new Error('API Error');

                const data = await response.json();
                return data.candidates[0].content.parts[0].text;
            } catch (error) {
                console.error("Gemini API Error:", error);
                showToast("AI Service Unavailable");
                return "Sorry, the AI service is currently unavailable. Please check your API key or try again later.";
            }
        }

        // --- AI FEATURE 1: EXPLAIN PROJECT ---
        async function explainProject(sourceId, targetId) {
            const descText = document.getElementById(sourceId).innerText;
            const targetEl = document.getElementById(targetId);

            // Loading State
            targetEl.classList.remove('hidden');
            targetEl.innerHTML = `<div class="flex items-center gap-2"><i data-lucide="loader-2" class="animate-spin w-4 h-4"></i> Simplifying complex concepts...</div>`;
            lucide.createIcons();

            const prompt = `You are a helpful science communicator. Rewrite the following research project description so it is easy for a high school student to understand. Keep it under 2 sentences. Description: "${descText}"`;

            const result = await callGeminiAPI(prompt);

            targetEl.innerHTML = `<strong class="block mb-1 text-[var(--text-main)] opacity-80">Simpler Explanation:</strong> ${result}`;
        }

        // --- AI FEATURE 2: SMART DRAFT ---
        async function draftEmail() {
            const topic = document.getElementById('draft-topic').value;
            if (!topic) {
                showToast("Please enter a topic first");
                return;
            }

            const msgBox = document.getElementById('message-box');

            // Loading indication in the textarea
            const originalPlaceholder = msgBox.placeholder;
            msgBox.placeholder = "âœ¨ AI is drafting your email...";
            msgBox.value = "âœ¨ Drafting...";
            msgBox.classList.add("animate-pulse");

            const prompt = `Draft a professional, concise email to Swastik Sharma (a PhD Candidate at IIT Kanpur) regarding the following topic: "${topic}". The sender is a fellow researcher. Keep it under 100 words. Only output the body of the email.`;

            const result = await callGeminiAPI(prompt);

            msgBox.classList.remove("animate-pulse");
            msgBox.value = result;
            msgBox.placeholder = originalPlaceholder;
        }

        // --- ICONS ---
        lucide.createIcons();

        // --- DYNAMIC YEAR ---
        document.getElementById('year').textContent = new Date().getFullYear();

        // --- TAB NAVIGATION & DEEP LINKING ---
        // --- TAB NAVIGATION & DEEP LINKING ---
        const sectionOrder = ['about', 'cv', 'research', 'publications', 'teaching', 'reads', 'blog', 'gallery', 'contact'];

        function showSection(sectionId, animationClass = 'fade-in') {
            // Update Hash without scrolling
            history.replaceState(null, null, '#' + sectionId);

            // Hide all sections
            sectionOrder.forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.classList.add('hidden');
                    el.classList.remove('fade-in', 'slide-in-right', 'slide-in-left');
                }
            });

            // Show target section
            const target = document.getElementById(sectionId);
            if (target) {
                target.classList.remove('hidden');
                // Trigger Reflow to restart animation
                void target.offsetWidth;
                target.classList.add(animationClass);

                // Scroll to top of content container
                const container = document.querySelector('.overflow-y-auto');
                if (container) container.scrollTop = 0;
            }

            // Update Nav Styling
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(btn => {
                btn.classList.remove('active');
                if (btn.innerText.toLowerCase().includes(sectionId)) {
                    btn.classList.add('active');
                }
            });

            // Close mobile menu if open (Mobile only)
            if (window.innerWidth < 768) {
                const nav = document.getElementById('main-nav');
                if (nav && !nav.classList.contains('hidden')) {
                    nav.classList.add('hidden');
                    nav.classList.remove('flex');
                }
            }
        }

        // --- SWIPE NAVIGATION ---
        let touchStartX = 0;
        let touchEndX = 0;
        const minSwipeDistance = 50;

        const contentContainer = document.querySelector('.overflow-y-auto');

        if (contentContainer) {
            contentContainer.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
            }, { passive: true });

            contentContainer.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            }, { passive: true });
        }

        function handleSwipe() {
            const distance = touchEndX - touchStartX;
            if (Math.abs(distance) < minSwipeDistance) return;

            // Get current section
            const currentHash = window.location.hash.substring(1) || 'about';
            const currentIndex = sectionOrder.indexOf(currentHash);

            if (currentIndex === -1) return;

            if (distance < 0) {
                // Swipe Left -> Next Section
                if (currentIndex < sectionOrder.length - 1) {
                    showSection(sectionOrder[currentIndex + 1], 'slide-in-right');
                }
            } else {
                // Swipe Right -> Previous Section
                if (currentIndex > 0) {
                    showSection(sectionOrder[currentIndex - 1], 'slide-in-left');
                }
            }
        }

        // Handle Initial Hash
        window.addEventListener('load', () => {
            const hash = window.location.hash.substring(1);
            if (hash && sectionOrder.includes(hash)) {
                showSection(hash);
            }
        });

        // --- LIGHTBOX LOGIC ---
        function openLightbox(imgSrc) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            lightboxImg.src = imgSrc;
            lightbox.classList.add('active');
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
        }

        // --- THEME TOGGLE ---
        // --- THEME & SCHEME LOGIC ---
        const schemes = {
            obsidian: { dark: '#FBBF24', light: '#D97706' },
            crimson: { dark: '#FB7185', light: '#BE123C' },
            oxford: { dark: '#60A5FA', light: '#0369A1' },
            sage: { dark: '#86EFAC', light: '#15803D' },
            royal: { dark: '#C084FC', light: '#7E22CE' }
        };

        function setScheme(scheme) {
            const html = document.documentElement;
            html.setAttribute('data-scheme', scheme);
            localStorage.setItem('scheme', scheme);
            updateThemeColors();
        }

        function toggleTheme() {
            const html = document.documentElement;
            const checkbox = document.getElementById('theme-checkbox');

            if (checkbox.checked) {
                html.setAttribute('data-theme', 'light');
                localStorage.setItem('theme', 'light');
            } else {
                html.removeAttribute('data-theme');
                localStorage.setItem('theme', 'dark');
            }
            updateThemeColors();
        }

        function updateThemeColors() {
            const html = document.documentElement;
            const scheme = html.getAttribute('data-scheme') || 'obsidian';
            const isLight = html.getAttribute('data-theme') === 'light';

            const color = isLight ? schemes[scheme].light : schemes[scheme].dark;
            updateParticles(color);
        }

        // Initialize Theme State
        window.addEventListener('DOMContentLoaded', () => {
            const html = document.documentElement;
            const checkbox = document.getElementById('theme-checkbox');

            // Load saved settings
            const savedTheme = localStorage.getItem('theme');
            const savedScheme = localStorage.getItem('scheme') || 'obsidian';

            // Apply Scheme
            setScheme(savedScheme);

            // Apply Theme
            if (savedTheme === 'light') {
                html.setAttribute('data-theme', 'light');
                checkbox.checked = true;
            } else {
                html.removeAttribute('data-theme');
                checkbox.checked = false;
            }

            updateThemeColors();
        });

        // --- CLIPBOARD UTILITY ---
        function copyToClipboard(text) {
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text).then(() => showToast("Citation copied!"));
            } else {
                // Fallback
                let textArea = document.createElement("textarea");
                textArea.value = text;
                textArea.style.position = "fixed";
                textArea.style.left = "-9999px";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                    showToast("Citation copied!");
                } catch (err) {
                    showToast("Failed to copy.");
                }
                document.body.removeChild(textArea);
            }
        }

        function showToast(message) {
            const toast = document.getElementById("toast");
            toast.textContent = message;
            toast.className = "show";
            setTimeout(function () { toast.className = toast.className.replace("show", ""); }, 3000);
        }

        // --- INTERACTIVE BACKGROUND (PARTICLE NETWORK) ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        let particleColor = '#FBBF24'; // Default dark mode Amber

        function updateParticles(newColor) {
            particleColor = newColor;
            particles.forEach(p => p.color = newColor);
        }

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            initParticles();
        }
        window.addEventListener('resize', resizeCanvas);

        let mouse = { x: null, y: null, radius: 150 };
        window.addEventListener('mousemove', function (event) {
            mouse.x = event.x;
            mouse.y = event.y;
        });

        class Particle {
            constructor(x, y, directionX, directionY, size, color) {
                this.x = x;
                this.y = y;
                this.directionX = directionX;
                this.directionY = directionY;
                this.size = size;
                this.color = color;
            }
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2, false);
                ctx.fillStyle = this.color;
                ctx.fill();
            }
            update() {
                if (this.x > canvas.width || this.x < 0) this.directionX = -this.directionX;
                if (this.y > canvas.height || this.y < 0) this.directionY = -this.directionY;

                let dx = mouse.x - this.x;
                let dy = mouse.y - this.y;
                let distance = Math.sqrt(dx * dx + dy * dy);

                if (distance < mouse.radius + this.size) {
                    if (mouse.x < this.x && this.x < canvas.width - this.size * 10) this.x += 2;
                    if (mouse.x > this.x && this.x > this.size * 10) this.x -= 2;
                    if (mouse.y < this.y && this.y < canvas.height - this.size * 10) this.y += 2;
                    if (mouse.y > this.y && this.y > this.size * 10) this.y -= 2;
                }

                this.x += this.directionX * 0.4;
                this.y += this.directionY * 0.4;
                this.draw();
            }
        }

        function initParticles() {
            particles = [];
            // Detect mobile by screen width
            const isMobile = canvas.width < 768;

            // drastically reduce divider for mobile (fewer particles)
            // Desktop: divide by 15000, Mobile: divide by 25000
            const divider = isMobile ? 25000 : 15000;

            let numberOfParticles = (canvas.height * canvas.width) / divider;

            for (let i = 0; i < numberOfParticles; i++) {
                // ... existing loop code ...
                let size = (Math.random() * 2) + 1;
                let x = (Math.random() * ((innerWidth - size * 2) - (size * 2)) + size * 2);
                let y = (Math.random() * ((innerHeight - size * 2) - (size * 2)) + size * 2);
                let directionX = (Math.random() * 2) - 1;
                let directionY = (Math.random() * 2) - 1;
                particles.push(new Particle(x, y, directionX, directionY, size, particleColor));
            }
        }

        function animate() {
            // Performance: Pause animation if tab is hidden
            if (!document.hidden) {
                requestAnimationFrame(animate);
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                for (let i = 0; i < particles.length; i++) {
                    particles[i].update();
                }
                connect();
            } else {
                // Check again in 500ms if tab is active
                setTimeout(animate, 500);
            }
        }

        function connect() {
            // Convert hex color to rgb for opacity handling
            let rgb = hexToRgb(particleColor);

            for (let a = 0; a < particles.length; a++) {
                for (let b = a; b < particles.length; b++) {
                    let distance = ((particles[a].x - particles[b].x) * (particles[a].x - particles[b].x))
                        + ((particles[a].y - particles[b].y) * (particles[a].y - particles[b].y));
                    if (distance < (canvas.width / 7) * (canvas.height / 7)) {
                        let opacity = 1 - (distance / 20000);
                        ctx.strokeStyle = `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${opacity * 0.15})`;
                        ctx.lineWidth = 1;
                        ctx.beginPath();
                        ctx.moveTo(particles[a].x, particles[a].y);
                        ctx.lineTo(particles[b].x, particles[b].y);
                        ctx.stroke();
                    }
                }
            }
        }

        // Helper to convert hex for canvas stroke style
        function hexToRgb(hex) {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : { r: 251, g: 191, b: 36 }; // Default Amber 400
        }

        resizeCanvas();
        animate();

        const menuBtn = document.getElementById('mobile-menu-btn');
        const closeMenuBtn = document.getElementById('close-menu-btn');
        const mainNav = document.getElementById('main-nav');

        function toggleMobileMenu() {
            mainNav.classList.toggle('hidden');
            mainNav.classList.toggle('flex');
        }

        menuBtn.addEventListener('click', toggleMobileMenu);
        if (closeMenuBtn) {
            closeMenuBtn.addEventListener('click', toggleMobileMenu);
        }

        // --- BLOG LOGIC ---
        const blogPosts = [
            {
                id: 1,
                title: "Distribution Systems: The Urgent Need for Customer-Centric Policies.",
                date: "October 15, 2025",
                summary: "Exploring the directions the policy needs to adapt to enhance efficient distribution system flexibility extraction",
                content: `
                    <p class="mb-4">The distribution systems in many developed countries are changing the concept of â€œpower only trickles down from transmission to distributionâ€. They are now becoming â€œactiveâ€ networks, facilitating a bidirectional exchange where the distribution system can also provide power.  This is possible due to the various Distributed Energy Resources (DERs), such as Heating, Ventilation, and Air Conditioning (HVAC) loads, Electric Vehicles (EVs), and Solar Rooftop Photovoltaics (SRPVs). These resources enable the system to respond to changing conditions in real-time, which is essential for maintaining a continual supply-demand balance.</p>
                    
                    <p class="mb-4">While the proliferation of these resources is extensive today, the concept of asking for flexibility from distribution systems is not new. In India, when the Government launched the scheme of replacing ordinary light bulbs with LED lights, it was, in fact, introduced to reduce the load on the system. The humble LED bulb helped reduce a significant chunk of load (an interesting article <a href="https://www.carbonbrief.org/guest-post-how-energy-efficient-led-bulbs-lit-up-india-in-just-five-years/"><u>here</u></a> for your reference). This reduction in load is not only to tame the sharp increase in demand, but also to give the government a breathing space to implement its plans of decarbonization, which they are pursuing rather aggressively (an <a href="https://www.weforum.org/stories/2020/01/india-new-hotspot-renewable-energy-investors/"><u>article</u></a> for you). But these â€œnewerâ€ forms of electricity, especially those tied to renewable energy, bring with them a whole new set of problems. UNCERTAINTY and VARIABILITY. Uncertain, because you canâ€™t predict their output. Variable because weather conditions dictate their output.</p>

                <p class="mb-4">Learning from the experiences of developed countries is crucial now to brace for the impact of this rapid decarbonization and increased reliance on Renewable Energy Sources (RESs). And the center of attraction of this discussion is Flexibility. Flexibility refers to a system's ability to adapt to changing conditions. It is the ability to control and handle change without causing disruption or trouble.  It is what keeps the lights on even when things change suddenly. With increasing uncertainty in the system, India needs more flexibility than ever. Much of this flexibility sits on the distribution side. But this flexibility is ultimately dependent on the customers, their behaviour, and willingness.</p>

                <p class="mb-4">From a policy standpoint, the distribution systems and their customers have been notoriously ignored. A customer has needs and wants; they need electricity, but they want it at a lower cost. These needs and wants come from a simple concept: how much are you willing to pay for electricity? Let's think about this for a moment. If I show up at your house tomorrow and say, â€œIâ€™ll give you â‚¹500, but youâ€™ll have to turn off all the lights during the day, do you accept?â€ What happens in your mind next is a cost-benefit analysis. Youâ€™ll think, â€œI have enough daylight during the day, and not using lights is fine, and I make an extra â‚¹500â€. Now, let's change the situation. Suppose I ask you to turn off the lights at night, but you have a test coming up that you need to study for. Would you still accept it? The exchange is not lucrative now, isnâ€™t it? This anecdote remains relevant today, as policymakers must consider the customerâ€™s needs and wants before planning for flexibility. </p>
                <p class="mb-4">This is why customer-centric policies are needed now. India is rapidly adopting RTPVs, EVs, and other emerging technologies at an unprecedented rate. The distribution system is driving the country's energy transition. Technology alone wonâ€™t solve the flexibility problem. We need people to be part of the solution. We need plans, tariffs, and incentives that match what customers care about.</p>

                <p class="mb-4">If we can do that, the grid becomes more resilient and fairer, even in the face of all the uncertainty that renewable energy brings. A customer-centric approach isnâ€™t just a nice idea. Itâ€™s what will determine whether Indiaâ€™s transition to cleaner energy is smooth, stable, and widely accepted.</p>
                <p class="mb-8"> <b>Swastik</b> </p>
                `
            }
        ];

        function renderBlogPosts() {
            const grid = document.getElementById('blog-grid');
            if (!grid) return;

            grid.innerHTML = blogPosts.map(post => `
                <div class="glass-panel p-6 rounded-xl cursor-pointer group hover:border-[var(--primary)] transition-colors" onclick="openBlogPost(${post.id})">
                    <span class="text-xs font-mono text-[var(--primary)]">${post.date}</span>
                    <h4 class="text-xl font-bold mt-2 mb-3 group-hover:text-[var(--primary)] transition-colors">${post.title}</h4>
                    <p class="text-sm text-[var(--text-muted)] line-clamp-3">${post.summary}</p>
                    <div class="mt-4 flex items-center text-xs text-[var(--text-main)] font-bold uppercase tracking-wider">
                        Read More <i data-lucide="arrow-right" class="w-3 h-3 ml-2 group-hover:translate-x-1 transition-transform"></i>
                    </div>
                </div>
            `).join('');

            // Re-initialize icons for new elements
            if (window.lucide) lucide.createIcons();
        }

        function openBlogPost(id) {
            const post = blogPosts.find(p => p.id === id);
            if (!post) return;

            document.getElementById('modal-title').textContent = post.title;
            document.getElementById('modal-date').textContent = post.date;
            document.getElementById('modal-body').innerHTML = post.content;

            const modal = document.getElementById('blog-modal');
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }

        function closeBlogPost() {
            const modal = document.getElementById('blog-modal');
            modal.classList.add('hidden');
            document.body.style.overflow = ''; // Restore scrolling
        }

        // Initial Render
        renderBlogPosts();

    </script>
</body>

</html>